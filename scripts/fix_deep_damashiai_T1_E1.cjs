const fs = require('fs');
const filePath = '/Users/jaminku/Desktop/open-haneum/songs/deep_damashiai.json';

try {
  let rawData = fs.readFileSync(filePath, 'utf-8');
  let data = JSON.parse(rawData);
  let changesMade = 0;

  data.translatedLines.forEach(line => {
    if (line.LI) {
      line.LI.forEach(item => {
        // 규칙 1: T1: 見失わ
        if (item.T1 === "見失わ" && item.E1 === "'見失う(잃어버리다, 놓치다)'의 미연형으로, 주로 뒤에 부정의 조동사 'ない'가 붙어 '잃어버리지 않다', '놓치지 않다'라는 의미를 나타냅니다.") {
          item.E1 = "'見失う(잃어버리다, 놓치다)'의 미연형으로, '잃어버리지 않다', '놓치지 않다'라는 의미를 나타냅니다.";
          changesMade++;
        }

        // 규칙 2: T1: 象ろう
        if (item.T1 === "象ろう" && item.E1 === "'象る(카타도루; 본뜨다, 형상화하다)'의 의지형으로, '형상화하자', '만들어 가자' 등과 같이 해석될 수 있습니다.") {
          item.E1 = "'象る(본뜨다, 형상화하다)'의 의지형으로, '형상화하자', '만들어 가자' 등과 같이 해석될 수 있습니다.";
          changesMade++;
        }

        // 규칙 3: T1: 悲しそうな
        if (item.T1 === "悲しそうな" && item.E1 === "'슬퍼 보이는'이라는 의미의 형용사구로, 어떤 상태를 나타내는 표현입니다.") {
          item.E1 = "'슬퍼 보이는'이라는 뜻의 연체형용사(또는 형용동사의 연체형)입니다. 명사를 수식하여 그 명사가 슬픈 듯한 상태임을 나타냅니다.";
          changesMade++;
        }

        // 규칙 4: T1: 騙し
        if (item.T1 === "騙し" && item.E1 === "'騙す(다마스; 속이다)'의 연용형으로, 명사적으로 '속임', '기만'의 뜻으로 쓰이거나, 다른 동사와 결합하여 복합동사를 만들기도 합니다.") {
          item.E1 = "'騙す(속이다)'의 연용형으로, 명사적으로 '속임', '기만'의 뜻으로 쓰이거나, 다른 동사와 결합하여 복합동사를 만들기도 합니다.";
          changesMade++;
        }

        // 규칙 5: T1: 決まっちゃいない
        if (item.T1 === "決まっちゃいない" && item.E1 === "'決まってはいない(키맛떼와 이나이)'의 축약형으로, '정해져 있지는 않다'라는 의미입니다. '決まる(키마루; 정해지다)'의 て형 + 조사 'は' + 'いる(이루; 있다)'의 부정형 'いない(이나이)'의 구조입니다.") {
          item.E1 = "'決まって는いない'의 축약형으로, '정해져 있지는 않다'라는 의미입니다. '決まる(정해지다)'의 て형 + 조사 'は' + 'いる(있다)'의 부정형 'いない'의 구조입니다.";
          changesMade++;
        }
        
        // 규칙 6: T1: 迷い込み
        if (item.T1 === "迷い込み" && item.E1 === "'迷い込む(마요이코무)'는 '迷う(마요우; 헤매다, 망설이다)'와 '込む(코무; 들어오다, 깊이 빠지다)'가 결합된 복합동사로, '길을 잃고 깊이 들어가다' 또는 '망설임 속에 깊이 빠지다'라는 의미입니다.") {
          item.E1 = "'迷い込む'는 '迷う(헤매다, 망설이다)'와 '込む(들어오다, 깊이 빠지다)'가 결합된 복합동사로, '길을 잃고 깊이 들어가다' 또는 '망설임 속에 깊이 빠지다'라는 의미입니다.";
          changesMade++;
        }
        
        // 규칙 7: T1: しないで
        if (item.T1 === "しないで" && item.E1 === "'する(스루; 하다)'의 부정형 'しない(시나이)'에 접속조사 'で'가 붙은 형태로, '하지 않고', '하지 않은 채로'라는 의미를 나타냅니다.") {
          item.E1 = "'する(하다)'의 부정형 'しない'에 접속조사 'で'가 붙은 형태로, '하지 않고', '하지 않은 채로'라는 의미를 나타냅니다.";
          changesMade++;
        }
        
        // 규칙 8: T1: ついて
        if (item.T1 === "ついて" && item.E1 === "동사 'つく'의 연용형(て형)입니다. 문맥에 따라 '붙다', '(거짓말을) 하다', '(불이) 켜지다' 등 여러 의미로 사용될 수 있으며, 여기서는 '嘘をつく(거짓말을 하다)'의 일부로 사용되었습니다.") {
          item.E1 = "동사 'つく'의 연용형(て형)입니다. 문맥에 따라 '붙다', '(불이) 켜지다' 등 여러 의미로 사용될 수 있으며, 여기서는 '嘘をつく(거짓말을 하다)'의 일부로 사용되었습니다.";
          changesMade++;
        }

      });
    }
  });

  if (changesMade > 0) {
    fs.writeFileSync(filePath, JSON.stringify(data, null, 2), 'utf-8');
    console.log(`파일 수정 완료 (T1, E1 - 발음 제거): ${filePath} (${changesMade}개 항목 수정됨)`);
  } else {
    console.log("수정된 항목이 없습니다 (T1, E1 - 발음 제거).");
  }

} catch (error) {
  console.error('스크립트 실행 중 오류 발생 (T1, E1 - 발음 제거):', error);
} 